<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<header th:fragment="header">
    <nav th:with="auth=${#authentication.getPrincipal().getUser()}">
        <!--
        <span id="globalConst" sec:authorize="isAuthenticated()" th:with="auth=${#authentication.getPrincipal().getUser()}"
              th:attr="data-iuser=${auth.iuser}, data-writer=${auth.nm}, data-writer-profile=${auth.mainProfile}"></span>
            -->
            <a th:href="@{/feed/home}">
                <img class="wh50" th:src="@{/img/logo/logo.png}">
            </a>
            왜그램
            Whygram

        </span>
        <span class="header__right">
            <div class="right__icon">
                <a th:href="@{/feed/home}">
                    <i class="header-icon bi bi-house-fill"></i>
                </a>
                <a th:href="@{/profile/mypage}">
                    <img th:if="${auth.users_img == null}"  class="pointer wh50" th:src="@{/img/profile/defaultProfile.png}">
                    <img th:unless="${auth.users_img == null}" class="pointer wh50 profileRadius" th:src="@{/pic/profile/{users_id}/{users_img}(users_id=${auth.users_id}, users_img=${auth.users_img})}">
                </a>
                <a th:href="@{/user/logout}" class="logout">
                    <i class="header-icon bi bi-door-closed-fill"></i>
                </a>
            </div>
        </span>
    </nav>
</header>
</html>